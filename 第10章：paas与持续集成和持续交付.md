## 为什么需要持续

在敏捷开发的过程中，完成一次迭代的时间被缩短到一两个星期或者更短的时间，如果还是依赖原有人工的方式进行需求分配、代码开发、代码合并、单元测试、集成测试、代码集成、部署上线这样的流程未免太慢，无法达到“敏捷”的效果。于是自然而然的，软件开发的从业者们很快就找到了**通过软件自身来管理和加强软件开发效率的道路**。

一系列的辅助敏捷开发的自动化工具出现了，敏捷开发中的每一个过程可以被串接成流水线（Pipeline）的模式，尽量让软件开发的每个过程自动化。即使是诸如代码评审、上线审批等不得不引入人工参与的决策点，也尽量通过自动发送邮件、预先检查代码是否符合规范等方式进行一定程度的自动化辅助。

Jenkins就是这类自动化工具的典型代表，它是一个开源项目，提供了一种易于使用的持续集成系统，使开发者从繁杂的集成中解脱出来，专注于更为重要的业务逻辑实现上。同时 Jenkins 能实施监控集成中存在的错误，提供详细的日志文件和提醒功能，还能用图表的形式形象地展示项目构建的趋势和稳定性。Jenkins的开放性很好，可以通过各种插件扩展对各个环境的支持，比如代码库访问、通过Ant或者Maven编译、自动化测试、部署到各种环境、发邮件等。通过Pipeline插件，可以在Jenkins的界面上清晰看到每一次自动化的集成中每一个步骤的执行情况。如下图所示：

![](/assets/46653-20160717150213607-1148676264.png)

通过这样的自动化手段，开发者进行敏捷开发的效率进一步提升。在最佳的实践中，开发人员只需要将本地完成和测试好的代码推送到代码仓库，代码仓库会自动触发一系列预定义的代码格式检查、自动执行单元测试、自动发起代码评审的请求，等到代码评审完成后又会自动地部署到测试环境进行集成测试，然后确认此子功能实现，等待自动化的预发布和正式上线流程。

## 什么是持续集成和持续交付

持续集成在维基百科上的描述如下：

> **持续集成**（英语：Continuous integration，缩写为 CI），一种软件工程流程，将所有工程师对于软件的工作复本，每天集成数次到共用主线（mainline）上。这个名称最早由葛来迪·布区（Grady Booch）在他的布区方法中提出，但是他并没有提到要每天集成数次。之后成为极限编程（extreme programming，缩写为XP）的一部分。在测试驱动开发（TDD）的作法中，通常还会搭配自动单元测试。持续集成的提出，主要是为了解决软件进行系统集成时面临的各项问题，极限编程称这些问题为集成地狱（integration hell）。

持续交付在维基百科上的描述如下：

> **持续交付**（英语：Continuous delivery，缩写为 CD），是一种软件工程手法，让软件产品的产出过程在一个短周期内完成，以保证软件可以稳定、持续的保持在随时可以释出的状况。它的目标在于让软件的建置、测试与释出变得更快以及更频繁。这种方式可以减少软件开发的成本与时间，减少风险。

**持续交付**涵盖了从需求到最终上线的全流程，而**持续集成**则涵盖了从"需求"开发为“代码”，然后编译和打包成“制品”的过程。为了方便的描述，我们将从“制品”运行成“服务”的过程称之为**持续部署**。

```
插图：需求-》代码-》制品-》运行的服务 。广义的持续交付涵盖全部，持续集成覆盖了从需求到代码的部分。持续部署则仅覆盖后面一部分。
```

**持续集成和持续交付与PaaS是相互促进的关系**。

如第四章所介绍，持续集成和持续交付本来就是PaaS云平台提供的一项面向开发者的服务。PaaS云平台不但需要提供托管开发者提交代码的运行时环境、提供满足开发者服务水平（SLA）需求的后端支持服务，还需要提供一系列的开发工具来作为配套措施，提升开发者的效率。

比如IBM的Bluemix，是一个基于Cloud Foundry提供的公有云PaaS平台，提供了众多的运行时环境和后端支持服务，IBM将其开发效率工具Rational整合了进来，不但包括代码协作，还包括了持续集成和部署的流水线。

```
截图 IBM的持续集成。
```

持续集成和持续交付的工具是PaaS的能力倍增器，已经成为成功的PaaS平台不可缺少的一项服务。特别是在Docker出现后大大降低了交付过程中可能出现的不一致性，更是推广了持续集成和持续交付的应用规模。

**PaaS反过来促进了持续集成和持续交付在开发者中的普及**。

由于持续集成和持续交付需要大量在软件开发中的实践经验总结才能实现，这些平台的搭建还需要综合利用多种开源工具，比如Gitlab做代码库、Gitrret做代码评审、Jenkins串接自动化流程、各种单元测试框架。中小软件企业或个人开发者很难享受这样的便利性，只有大型软件企业例如百度和阿里巴巴，通过成立一个工程效率部的形式来面向公司内部提供提供这样的技术手段。

但有了PaaS就不一样了，这些沉淀的最佳实践可以飞入寻常百姓家。即使是个人开发者在开发自己的项目的时候也可以享受媲美一流软件企业的工程效率服务。由于PaaS平台面向各开发者提供这些能力，自身很容易实现规模效益，从而将这些工程效率的最佳实践实现得更加充分，这又是云计算实现了分工，促进两方更加专业，提升整体效率的又一例证。

为什么，有什么意义和作用

定义是什么

原来是怎么做的，有什么工具

和PaaS的关系是什么

有了PaaS后这个事情变成了什么，PaaS提供他以后带来了什么便利，对PaaS有什么新价值

