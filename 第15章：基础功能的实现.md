![](/assets/第十四章 大数据PaaS平台架构.jpg)

## 云平台核心

## Service Broker

## 资源与计费

## 3A和安全

## 外围组件集成

## 使用界面

## IaaS适配

站在企业的角度，将现有产品或应用进行上述改造还不够，应用和应用之间需要交互，而其中共性的后端服务可以统一提供。此外应用从开发、部署到运维有一些通用的模块需要统一起来，或者是为了提高开发者的效率，或者是为了给最终使用用户一个一致的体验。

因此需要一个企业级的集成框架来解决上述问题，即一个服务于开发者的平台，一个在开发、部署和运维应用需要的“操作系统”。

## 1.1 服务框架

服务框架实现对“通用服务”和“共性工具”等各产品中的标准件的统一供给，从而使产品解耦并关注自身应用逻辑，提高应用型产品的开发迭代速度。

服务框架主要提供：

l 服务管理：服务生成、回收等生命周期管理，服务的配额和计费，服务的绑定和解除绑定（用于传递服务入口和鉴权参数）。

l 服务发现：服务发现及路由能力（本身作为一个特殊服务存在，应用访问服务不一定通过它，可以直达，其也能用于应用之间的服务发现），用于实现服务的高可用、负载均衡等。

l 框架能力：服务上架（MarketPlace）、服务编排（含模板）、资源管理与部署（对于内部服务）、安全认证（与应用）、日志、健康管理、配置管理等用于支持服务的能力。

服务是像插件一样插在服务框架之中，服务本身可有两种实现方式：外部服务集成，通过Service Broker的模式将PaaS平台外部的服务集成到PaaS平台之中来； 内部服务模式，根据模板和镜像通过PaaS平台预定义的脚本或编排文件自动部署服务。

无论是外部服务还是内部服务模式，仅需要为服务框架提供如下接口:

l 服务上架。将服务入口、SLA、价格计划注册到服务市场（Marketplace）。

l 服务生命周期管理。编目列举（SLA和价格）、生成、回收。

l 服务管理。日志、管理配置界面、健康检查等接口，最简单可以就是一个带认证Token的URL。

## 1.2 应用框架

应用框架提供了应用型产品的开发、测试和运行服务，通过预定义的runtime支持实现Code2Cloud，通过内嵌的代码库、CI\CD工具实现快速迭代和DevOps。

应用框架主要提供：

l runtime：各种预定义的runtime统一了企业内应用交付环境，将各种语言编译、运行环境、各种库和依赖包进行统一提供。

l 框架能力：动态路由、自动扩展、高可用、应用编排（含模板）、资源管理与部署（应用容器部署） 、配置管理、日志、监控、计费、安全认证（与用户）。

l 敏捷开发：代码库管理、开发流程管理、代码审查、持续集成（单元、集成、压力测试）。

l 持续交付：持续交付、灰度发布、版本管理（镜像管理）。

